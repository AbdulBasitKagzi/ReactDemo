(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{586:function(e,t,a){},606:function(e,t,a){"use strict";a.r(t);var r=a(7),n=a(29),c=a(3),i=a(0),s=a.n(i),l=a(33),o=a(474),b=a(148),j=a(114),d=a(15),u=a(20),h=a(359),p=a(53),x=a(349),O=a(331),f=a(147),v=a(64),m=a(342),g=a(345),y=a(605),w=a(608),S=a(31),C=a.n(S),L=a(1),k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var z=function(e){var t=i.forwardRef((function(e,t){return Object(L.jsx)(g.a,Object(n.a)({elevation:6,ref:t,variant:"filled"},e))})),a=i.useState({vertical:"top",horizontal:"center"}),c=Object(r.a)(a,2),s=c[0],o=c[1],j=s.vertical,S=s.horizontal,z=function(e){"clickaway"!==e&&(xe(b.f.clearMessage()),o(Object(n.a)(Object(n.a)({},s),{},{open:!1})))},N=i.useState(!0),P=Object(r.a)(N,2),A=P[0],D=P[1],_=i.useState(!0),R=Object(r.a)(_,2),U=R[0],V=R[1],E=i.useState(!0),H=Object(r.a)(E,2),M=H[0],T=H[1],Z=i.useState(!0),B=Object(r.a)(Z,2),I=B[0],q=B[1],F=i.useState(!0),J=Object(r.a)(F,2),$=J[0],G=J[1],K=RegExp("^[A-Z]{2}[ -][0-9]{1,2}(?: [A-Z])?(?: [A-Z]*)? [0-9]{4}$"),Q=i.useState(""),W=Object(r.a)(Q,2),X=W[0],Y=W[1],ee=i.useState(""),te=Object(r.a)(ee,2),ae=te[0],re=te[1],ne=i.useState(""),ce=Object(r.a)(ne,2),ie=ce[0],se=ce[1],le=i.useState(""),oe=Object(r.a)(le,2),be=oe[0],je=oe[1],de=i.useState(""),ue=Object(r.a)(de,2),he=ue[0],pe=ue[1],xe=Object(l.b)(),Oe=Object(l.c)((function(e){return e.vehicle})),fe=Oe.add,ve=Oe.addOpen,me=Oe.addMessage,ge=Oe.isLoading,ye=function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",he),t.append("upload_preset","abdul007"),e.prev=3,e.next=6,C.a.post("https://api.cloudinary.com/v1_1/dhf3mwsj8/image/upload",t);case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(3),console.log("upload to cloudinary error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===X&&D(!1),""!==ae&&K.test(ae)||V(!1),(""===ie||ie<10)&&T(!1),(""===be||be<1)&&q(!1),""!==he){e.next=7;break}return G(!1),e.abrupt("return");case 7:if(!(""===X||""===ae||!K.test(ae)||""===ie||ie<10||""===be||be<1||""===he)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,ye();case 13:t=e.sent,xe(Object(b.a)({type:X,vNumber:ae,initialPrice:ie,capacity:be,imageUrl:t.data.secure_url})),Y(""),re(""),je(""),se(""),pe("");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsx)("div",{children:Object(L.jsx)(x.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:e.open,onClose:function(){return e.setOpen(!1)},closeAfterTransition:!0,BackdropComponent:h.a,BackdropProps:{timeout:500},children:Object(L.jsx)(O.a,{in:e.open,children:Object(L.jsxs)(p.a,{sx:k,children:[fe&&Object(L.jsx)(y.a,{anchorOrigin:{vertical:j,horizontal:S},open:ve,autoHideDuration:3e3,onClose:z,children:Object(L.jsx)(t,{onClose:z,severity:"success",sx:{width:"100%"},children:me})},j+S),!1===fe&&Object(L.jsx)(y.a,{anchorOrigin:{vertical:j,horizontal:S},open:ve,autoHideDuration:3e3,onClose:z,children:Object(L.jsx)(t,{onClose:z,severity:"error",sx:{width:"100%"},children:me})},j+S),ge&&Object(L.jsx)(p.a,{sx:{width:"100%"},children:Object(L.jsx)(w.a,{})}),Object(L.jsx)(v.a,{id:"transition-modal-title",variant:"h6",component:"h2",sx:{ml:"35%"},children:"Add Vehicle"}),Object(L.jsx)(m.a,{type:"file",onChange:function(e){pe(e.target.files[0]),G(!0)},sx:{ml:2,width:"92%"}}),!$&&Object(L.jsx)(t,{severity:"error",sx:{mr:2,fontSize:12,height:50},children:"Please add image of the vehicle"}),Object(L.jsxs)(p.a,{sx:{display:"flex",p:2},children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)(m.a,{type:"text",id:e.typeLabel,label:e.typeLabel,name:e.typeLabel,value:X,onChange:function(e){Y(e.target.value),D(!0),""===e.target.value&&D(!1)}}),!A&&Object(L.jsx)(t,{severity:"error",sx:{mr:2,fontSize:12,height:50},children:"Please Enter type of vehicle"})]}),Object(L.jsxs)(p.a,{children:[Object(L.jsx)(m.a,{type:"text",id:e.vnumberLabel,label:e.vnumberLabel,name:e.vnumberLabel,sx:{ml:2},value:ae,onChange:function(e){re(e.target.value),V(!0),""===e.target.value&&V(!1)}}),!U&&Object(L.jsx)(t,{severity:"error",sx:{fontSize:12,height:50},children:"Registered Number for Vehicle"})]})]}),Object(L.jsxs)(p.a,{sx:{mt:2,display:"flex",p:2},children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)(m.a,{type:"number",id:e.initialpriceLabel,label:e.initialpriceLabel,name:e.initialpriceLabel,value:ie,onChange:function(e){se(e.target.value),T(!0),""===e.target.value&&T(!1)}}),!M&&Object(L.jsx)(t,{severity:"error",sx:{mr:2,fontSize:12,height:70},children:"Initial price must be or greater than 10"})]}),Object(L.jsxs)(p.a,{children:[Object(L.jsx)(m.a,{type:"text",id:e.capacityLabel,label:e.capacityLabel,name:e.capacityLabel,sx:{ml:2},value:be,onChange:function(e){je(e.target.value),q(!0),""===e.target.value&&q(!1)}}),!I&&Object(L.jsx)(t,{severity:"error",sx:{ml:2,fontSize:12,height:70},children:"capacity must be greater or equal to 1"})]})]}),Object(L.jsx)(f.a,{variant:"outlined",sx:{mt:2,width:"inherit"},onClick:we,children:"Save"})]})})})})},N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function P(e){var t=i.forwardRef((function(e,t){return Object(L.jsx)(g.a,Object(n.a)({elevation:6,ref:t,variant:"filled"},e))})),a=i.useState({vertical:"top",horizontal:"center"}),c=Object(r.a)(a,2),s=c[0],o=c[1],j=s.vertical,S=s.horizontal,k=function(e){"clickaway"!==e&&(me(b.f.clearMessage()),o(Object(n.a)(Object(n.a)({},s),{},{open:!1})))},z=i.useState(!0),P=Object(r.a)(z,2),A=P[0],D=P[1],_=i.useState(!0),R=Object(r.a)(_,2),U=R[0],V=R[1],E=i.useState(!0),H=Object(r.a)(E,2),M=H[0],T=H[1],Z=i.useState(!0),B=Object(r.a)(Z,2),I=B[0],q=B[1],F=i.useState(!0),J=Object(r.a)(F,2),$=J[0],G=J[1],K=RegExp("^[A-Z]{2}[ -][0-9]{1,2}(?: [A-Z])?(?: [A-Z]*)? [0-9]{4}$"),Q=i.useState(),W=Object(r.a)(Q,2),X=W[0],Y=W[1],ee=i.useState(),te=Object(r.a)(ee,2),ae=te[0],re=te[1],ne=i.useState(),ce=Object(r.a)(ne,2),ie=ce[0],se=ce[1],le=i.useState(),oe=Object(r.a)(le,2),be=oe[0],je=oe[1],de=i.useState(),ue=Object(r.a)(de,2),he=ue[0],pe=ue[1],xe=i.useState(),Oe=Object(r.a)(xe,2),fe=Oe[0],ve=Oe[1];i.useEffect((function(){Y(e.value.type),re(e.value.vNumber),se(e.value.initialPrice),je(e.value.capacity),ve(e.value.imageUrl),pe(e.value._id)}),[e.value]);var me=Object(l.b)(),ge=Object(l.c)((function(e){return e.vehicle})),ye=ge.updateOpen,we=ge.update,Se=ge.updateMessage,Ce=ge.isLoading,Le=function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",fe),t.append("upload_preset","abdul007"),e.prev=3,e.next=6,C.a.post("https://api.cloudinary.com/v1_1/dhf3mwsj8/image/upload",t);case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(3),console.log("upload to cloudinary error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===X&&D(!1),""!==ae&&K.test(ae)||V(!1),(""===ie||ie<10)&&T(!1),(""===be||be<1)&&q(!1),""!==fe){e.next=7;break}return G(!1),e.abrupt("return");case 7:if(!(""===X||""===ae||!K.test(ae)||""===ie||ie<10||""===be||be<1||""===fe)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Le();case 13:t=e.sent,me(Object(b.e)({id:he,type:X,vNumber:ae,initialPrice:ie,capacity:be,imageUrl:t.data.secure_url}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsx)("div",{children:Object(L.jsx)(x.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:e.update,onClose:function(){e.setUpdateOpen(!1)},closeAfterTransition:!0,BackdropComponent:h.a,BackdropProps:{timeout:500},children:Object(L.jsx)(O.a,{in:e.update,children:Object(L.jsxs)(p.a,{sx:N,children:[we&&Object(L.jsx)(y.a,{anchorOrigin:{vertical:j,horizontal:S},open:ye,autoHideDuration:3e3,onClose:k,children:Object(L.jsx)(t,{onClose:k,severity:"success",sx:{width:"100%"},children:Se})},j+S),!1===we&&Object(L.jsx)(y.a,{anchorOrigin:{vertical:j,horizontal:S},open:ye,autoHideDuration:3e3,onClose:k,children:Object(L.jsx)(t,{onClose:k,severity:"error",sx:{width:"100%"},children:Se})},j+S),Ce&&Object(L.jsx)(p.a,{sx:{width:"100%"},children:Object(L.jsx)(w.a,{})}),Object(L.jsx)(v.a,{id:"transition-modal-title",variant:"h6",component:"h2",sx:{ml:"35%"},children:"Update Vehicle"}),Object(L.jsx)(m.a,{type:"file",onChange:function(e){ve(e.target.files[0]),G(!0)},sx:{ml:2,width:"92%"}}),!$&&Object(L.jsx)(t,{severity:"error",sx:{mr:2,fontSize:12,height:50},children:"Please add image of the vehicle"}),Object(L.jsxs)(p.a,{sx:{display:"flex",p:2},children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)(m.a,{type:"text",id:e.typeLabel,label:e.typeLabel,name:e.typeLabel,value:X,onChange:function(e){Y(e.target.value),D(!0),""===e.target.value&&D(!1)}}),!A&&Object(L.jsx)(t,{severity:"error",sx:{mr:2,fontSize:12,height:50},children:"Please Enter type of vehicle"})]}),Object(L.jsxs)(p.a,{children:[Object(L.jsx)(m.a,{type:"text",id:e.vnumberLabel,label:e.vnumberLabel,name:e.vnumberLabel,sx:{ml:2},value:ae,onChange:function(e){re(e.target.value),V(!0),""===e.target.value&&V(!1)}}),!U&&Object(L.jsx)(t,{severity:"error",sx:{fontSize:12,height:50},children:"Registered Number for Vehicle"})]})]}),Object(L.jsxs)(p.a,{sx:{mt:2,display:"flex",p:2},children:[Object(L.jsxs)(p.a,{children:[Object(L.jsx)(m.a,{type:"number",id:e.initialpriceLabel,label:e.initialpriceLabel,name:e.initialpriceLabel,value:ie,onChange:function(e){se(e.target.value),T(!0),""===e.target.value&&T(!1)}}),!M&&Object(L.jsx)(t,{severity:"error",sx:{mr:2,fontSize:12,height:70},children:"Initial price must be or greater than 10"})]}),Object(L.jsxs)(p.a,{children:[Object(L.jsx)(m.a,{type:"text",id:e.capacityLabel,label:e.capacityLabel,name:e.capacityLabel,sx:{ml:2},value:be,onChange:function(e){je(e.target.value),q(!0),""===e.target.value&&q(!1)}}),!I&&Object(L.jsx)(t,{severity:"error",sx:{ml:2,fontSize:12,height:70},children:"capacity must be greater or equal to 1"})]})]}),Object(L.jsx)(f.a,{variant:"outlined",sx:{mt:2,width:"inherit"},onClick:ke,children:"Save"})]})})})})}a(586);var A=a(338),D=a(591),_=a(593),R=a(587),U=a(418),V=a(590),E=a(592),H=a(589),M=a(5),T=a(150),Z=a(356),B=a(358),I=Object(M.a)(R.a)((function(e){var t,a=e.theme;return t={},Object(c.a)(t,"&.".concat(U.a.head),{backgroundColor:a.palette.common.black,color:a.palette.common.white}),Object(c.a)(t,"&.".concat(U.a.body),{fontSize:14}),t})),q=Object(M.a)(H.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));t.default=function(){var e=s.a.forwardRef((function(e,t){return Object(L.jsx)(g.a,Object(n.a)({elevation:6,ref:t,variant:"filled"},e))})),t=Object(l.b)();s.a.useEffect((function(){t(Object(b.d)())}),[]);var a=function(e){"clickaway"!==e&&t(b.f.clearMessage())};function c(e){return Object(L.jsx)(A.a,Object(n.a)(Object(n.a)({},e),{},{direction:"left"}))}var i=s.a.useState(!1),d=Object(r.a)(i,2),u=d[0],h=d[1],x=s.a.useState(!1),O=Object(r.a)(x,2),m=O[0],w=O[1],S=s.a.useState(!1),C=Object(r.a)(S,2),k=C[0],N=C[1],R=s.a.useState(!1),U=Object(r.a)(R,2),H=U[0],M=U[1],F=s.a.useState(),J=Object(r.a)(F,2),$=J[0],G=J[1],K=Object(l.c)((function(e){return e.vehicle})),Q=K.vehicleType,W=K.Delete,X=K.deleteOpen,Y=K.deleteMessage,ee=K.isLoading;return Object(L.jsxs)("div",{children:[Object(L.jsx)(j.a,{}),u&&Object(L.jsx)(z,{setOpen:w,open:m,typeLabel:"type",vnumberLabel:"vNumber",capacityLabel:"capacity",initialpriceLabel:"initialPrice"}),k&&Object(L.jsx)(P,{update:H,setUpdateOpen:M,value:$,typeLabel:"type",vnumberLabel:"vNumber",capacityLabel:"capacity",initialpriceLabel:"initialPrice"}),W&&Object(L.jsx)(y.a,{TransitionComponent:c,open:X,autoHideDuration:3e3,onClose:a,children:Object(L.jsx)(e,{onClose:a,severity:"success",sx:{width:"100%"},children:Y})}),!1===W&&Object(L.jsx)(y.a,{TransitionComponent:c,open:X,autoHideDuration:3e3,onClose:a,children:Object(L.jsx)(e,{onClose:a,severity:"error",sx:{width:"100%"},children:Y})}),ee&&Object(L.jsx)(p.a,{sx:{display:"flex",ml:"50%"},children:Object(L.jsx)(B.a,{})}),Object(L.jsxs)(Z.a,{sx:{width:"100%",overflow:"hidden"},children:[""==Q&&Object(L.jsx)(v.a,{children:"No data found"}),Object(L.jsxs)(V.a,{children:[Object(L.jsx)(v.a,{variant:"h4",align:"center",sx:{p:2},children:"Vehicles"}),Object(L.jsxs)(D.a,{sx:{width:"95%",border:1,mb:2},align:"center","aria-label":"simple table",children:[Object(L.jsx)(E.a,{children:Object(L.jsxs)(q,{sx:{border:1},children:[Object(L.jsx)(I,{sx:{border:1},children:"No."}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:"Type"}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:"VNumber"}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:"Capacity"}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:"InitialPrice"}),Object(L.jsx)(I,{align:"center",sx:{border:1}}),Object(L.jsx)(I,{align:"center",sx:{border:1}})]})}),Object(L.jsx)(_.a,{children:Q.map((function(e,a){return Object(L.jsxs)(q,{sx:{"&:last-child td, &:last-child th":{border:1}},children:[Object(L.jsx)(I,{component:"th",scope:"row",sx:{border:1},children:a+1}),Object(L.jsxs)(I,{align:"center",sx:{border:1,display:"flex"},children:[Object(L.jsx)(o.a,{className:"cloudinary_image",cloudName:"dhf3mwsj8",publicId:e.imageUrl}),e.type]}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:e.vNumber}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:e.capacity}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:e.initialPrice}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:Object(L.jsx)(f.a,{onClick:function(){N(!0),M(!0),G(Q[a]),console.log(Q[a])},children:Object(L.jsx)("i",{className:"fa-solid fa-pen-to-square"})})}),Object(L.jsx)(I,{align:"center",sx:{border:1},children:Object(L.jsx)(f.a,{onClick:function(){var a=e._id;t(Object(b.c)(a))},children:Object(L.jsx)("i",{className:"fa-solid fa-trash"})})})]},a)}))})]})]})]}),Object(L.jsx)(f.a,{variant:"contained",sx:{ml:40,mt:2,width:"50%"},onClick:function(){h(!0),w(!0)},children:"Add Vehicle"}),Object(L.jsx)(T.a,{})]})}}}]);
//# sourceMappingURL=10.1fffd68c.chunk.js.map